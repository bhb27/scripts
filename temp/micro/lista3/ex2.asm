    #INCLUDE <P16F877A.INC>
    __CONFIG B'11110100011000'
    ORG 0X0000
    
    CLRF STATUS

    CLRF PORTB
    CLRF PORTC

    BANKSEL TRISB
    MOVLW 0XFF
    MOVWF TRISB

    BANKSEL TRISC
    MOVLW 0X00
    MOVWF TRISC

    BANKSEL OPTION_REG
    MOVLW 0X7F
    MOVWF OPTION_REG
    BANKSEL PORTD

CHECKB1
    BTFSS PORTB,RB0;SKIP IF ZERO
    GOTO  ENABLE_RC3
    GOTO  CHECKB1

ENABLE_RC3
    BSF PORTC,RC3
    CBLOCK
    D0
    D1
    ENDC

    ;5 SECONDS DELAY
    ;1998 CYCLES
    MOVLW    0XC7
    MOVWF    D0
    MOVLW    0X01
    MOVWF    D1
DELAY_0
    DECFSZ   D0, F
    GOTO     $+2
    DECFSZ   D1, F
    GOTO     DELAY_0

    ;2 CYCLES
    GOTO     $+1

START
    BCF PORTC,RC3
    GOTO START

    END
